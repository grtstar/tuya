{"version":3,"sources":["iframe.js","index.js"],"names":["Iframe","props","state","iFrameHeight","this","source","console","log","style","width","height","overflow","onLoad","obj","ReactDOM","findDOMNode","setState","contentWindow","document","body","scrollHeight","title","ref","src","scrolling","frameBorder","React","Component","Content","Layout","Footer","Sider","SubMenu","Menu","_build_catelog","rootPath","jsonDate","handle","getRoot","ans","d","p","path","join","push","f","html_path","h_name","substring","length","Item","onClick","rootBase","basename","theme","defaultSelectedKeys","mode","GetCatalog","catelog_data","json_path","fetch","then","response","json","data","catch","err","date","SiderDemo","onCollapse","collapsed","handleClick","bind","doc_key","minHeight","collapsible","className","margin","padding","textAlign","render","getElementById"],"mappings":"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","file":"static/js/main.4ec7ab0b.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nexport default class Iframe extends React.Component {\n  constructor(props) {\n        super(props);\n        this.state = {\n            iFrameHeight: '800px'\n        }\n    }\n\n  render() {\n      if(!this.props.source) {\n          return (\n              <div>Welcome to Tuya Doc</div>\n          );\n      }\n\n      const source = this.props.source\n      console.log(\"souce: \", source)\n    return (\n      <iframe \n            style={{width:'100%', height:this.state.iFrameHeight, overflow:'visible'}}\n            onLoad={() => {\n                const obj = ReactDOM.findDOMNode(this);\n                this.setState({\n                    \"iFrameHeight\":  obj.contentWindow.document.body.scrollHeight + 'px'\n                });\n            }} \n            title=\"title\"\n            ref=\"iframe\" \n            src={source}\n            width=\"100%\" \n            height={this.state.iFrameHeight} \n            scrolling=\"no\" \n            frameBorder=\"0\"\n        />\n    );\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport path from 'path';\n// import catelogDate from './catelog.json';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport Iframe from './iframe.js';\nimport { Layout, Menu } from 'antd';\n\nconst { Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nfunction _build_catelog(rootPath, jsonDate, handle, getRoot) {\n  if (! jsonDate) {\n    return (\n      <div></div>\n    );\n  }\n\n  var ans = [];\n  for(var d in jsonDate) {\n    if (d === 'files') {\n      continue;\n    }\n    var p = path.join(rootPath, d);\n    // console.log(p, jsonDate[d]);\n    ans.push(\n      _build_catelog(p, jsonDate[d], handle, true)\n    );\n}\n\n  if('files' in jsonDate) {\n    for(var f of jsonDate['files']) {\n      // console.log(f);\n      const html_path = path.join(rootPath, f);\n      // console.log('html_path: ', html_path);\n      const h_name = f.substring(0, f.length-5);\n      ans.push(\n        <Menu.Item key={html_path} onClick={() => handle(html_path)}>{h_name}</Menu.Item>\n      );\n    }\n  }\n\n  const rootBase = path.basename(rootPath);\n\n  if(!getRoot) {\n    return (\n      <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n        {ans}\n      </Menu>\n    );\n  }\n\n  return (\n    <SubMenu key={rootPath} title={rootBase}>\n      {ans}\n    </SubMenu>\n  );\n}\n\nfunction getJsonDate(json_path) {\n  return fetch(json_path)\n    .then((response) => { \n      return response.json()\n    })\n    .then((data) => {\n      // console.log('getJsonDate: ', data);\n      return data;\n      }).catch((err) => {\n        console.log(err);\n      });\n}\n\nclass GetCatalog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      catelog_data:{},\n    };\n  }\n\n  componentDidMount() {\n    getJsonDate(\"./catelog.json\").then(\n      (date) => {\n        // console.log('date: ', date)\n        this.setState({catelog_data: date});\n      }\n    );\n  }\n\n  render() {\n    const catelog = _build_catelog(\"./doc\", this.state.catelog_data, this.props.handle, false)\n\n    return catelog;\n  }\n\n}\nclass SiderDemo extends React.Component {\n    constructor(props) {\n      super(props);\n      this.handleClick = this.handleClick.bind(this);\n      this.state = {\n        doc_key:\"\",\n        collapsed: false,\n      };\n    }\n\n\n  onCollapse = collapsed => {\n    console.log(collapsed);\n    this.setState({ collapsed });\n  };\n\n    handleClick(html_path) {\n      // console.log(html_path);\n      this.setState({\n        doc_key: html_path,\n      });\n    }\n\n  render() {\n    const { collapsed } = this.state;\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse} width={300}>\n        <div className=\"logo\">\n        </div>\n          <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n            <GetCatalog handle={this.handleClick}/>\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          <Content style={{ margin: '0 16px' }}>\n            <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\n                <Iframe source={this.state.doc_key} />\n            </div>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>Tuya Doc</Footer>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nReactDOM.render(<SiderDemo />, document.getElementById('container'));\n"],"sourceRoot":""}